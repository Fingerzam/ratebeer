<h2>List of ratings</h2>

<p>number of ratings: <%= @ratings.size %></p>

<div class="container">
  <div class="row">
    <%= render 'top_listing', things: @top_beers, type: "beers" %>
    <%= render 'top_listing', things: @top_breweries, type: "breweries" %>
    <%= render 'top_listing', things: @top_styles, type: "styles" %>
  </div>
</div>

<h2>most active users</h2>
<table class="table table-hover">
  <thead>
    <th></th>
    <th>favorite beer</th>
    <th>favorite brewery</th>
    <th>preferred style</th>
    <th>ratings</th>
  </thead>
  <tbody>
    <% @active_users.each do |user| %>
      <tr>
        <td><%= user.username %></td>
        <td><%= link_to user.favorite_beer.name, user.favorite_beer %></td>
        <td><%= link_to user.favorite_brewery.name, user.favorite_brewery %></td>
        <td><%= link_to user.favorite_style.name, user.favorite_style %></td>
        <td><%= user.ratings.count %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<h2>recent ratings</h2>
<ul>
  <% @recent.each do |rating| %>
    <li>
      <%= rating %>
      <%= link_to rating.user.username, rating.user %>
    </li>
  <% end %>
</ul>

<%= link_to 'New rating', new_rating_path unless current_user.nil? %>
